import{u}from"./useMutation-CEzIW2sW.js";import{a as c,O as d,u as l,h as p,g}from"./index-C6TflT0I.js";class m{static loginCreate(o){return c(d,{method:"POST",url:"/api/login/",body:o,mediaType:"application/json"})}}const b=()=>{const n=l(),{setIsAuth:o}=p(),{toast:s}=g(),{isPending:r,mutate:a}=u({mutationFn:t=>m.loginCreate(t),onSuccess:t=>{o(!0),n({pathname:t.redirect_url}),window.location.reload()},onError:t=>{const e=t;e.body||console.error(t);for(const i in e.body)s({title:"Ошибка авторизации",description:e.body[i]||"Неизвестная ошибка"})}});return{isPending:r,signIn:a}};export{b as u};
