import{u}from"./useMutation-BY5_vBK1.js";import{u as c,d,f as p}from"./index-p7H9IJxa.js";import{r as l,O as m}from"./request-CHWoY4Yq.js";class g{static loginCreate(t){return l(m,{method:"POST",url:"/api/login/",body:t,mediaType:"application/json"})}}const h=()=>{const n=c(),{setIsAuth:t}=d(),{toast:s}=p(),{isPending:r,mutate:i}=u({mutationFn:o=>g.loginCreate(o),onSuccess:o=>{t(!0),n({pathname:o.redirect_url}),window.location.reload()},onError:o=>{const e=o;e.body||console.error(o);for(const a in e.body)s({title:"Ошибка авторизации",description:e.body[a]||"Неизвестная ошибка"})}});return{isPending:r,signIn:i}};export{h as u};
