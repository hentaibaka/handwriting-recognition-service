# Инструкция: Библиотекарь
***
## Вид админ-панели:
![image](https://github.com/hentaibaka/handwriting-recognition-service/assets/61946499/d9d433ad-d1d0-4137-a0d3-8ab0ab3beed9)
1. Документы:\
Библиотекарю доступно 3 таблицы: Документы, Страницы и Строки. Пройдёмся по очереди.\
Таблица Документы.\
Документ это базовая сущность, которую необходимо создать прежде чем продолжить работу по распознаванию рукописного текста.\
На странице просмотра записей можно сортировать документа по таким параметрам как: пользователь, видимость, статус, статус верификации, дате созданиия, а также можно быстро изменять статус конкретного документа, не заходя в форму редактирования записи.\
![image](https://github.com/hentaibaka/handwriting-recognition-service/assets/61946499/b7d378e4-3733-47be-84e3-b2d582125158)
Если перейти в окно редактирования конкретной записи или создания записи, вы увидете, что документ состоит из: названия, описания, статуса распознавания, статуса верификации, видимости, пользователя, что создал документ и страниц. Это необходимо для удобного поиска и хранения инфорамции.\
Пользователь создавший документ устанваливается автоматически. К полям статус верификации и видимость библиотекарь не имеет прав доступа. Их морут менять только модераторы и администраторы.\
Указав название и описание документа, библиотекарь может в этом же окне начать добавлять страницы к документу или перейти в таблицу со страницами.
![image](https://github.com/hentaibaka/handwriting-recognition-service/assets/61946499/ca843a69-261f-4d4e-b90a-914cbf528659)\
Таблица Страницы.\
После создания документа можно перейти в таблицу со страницами. Запись страницы представляет собой ссылку на документ, к которому относится страница, номер данной страницы в документе, изображение данной страницы, статус распознавания и является ли данная страница демонстарционной (отображается на публичном сайте).\
Делать документ демонстрационным библиотекарь не может, для этого необходимо обладать правами модератора или администратора.\
![image](https://github.com/hentaibaka/handwriting-recognition-service/assets/61946499/e8a94a45-8094-4ee3-8c8f-50faaa41c87b)\
На странице редактирования записи можно увидеть наглядное изображение страницы с наложенными поверх распознанными строками.\
![image](https://github.com/hentaibaka/handwriting-recognition-service/assets/61946499/b4677776-059a-4478-896f-2f9df44641ee)
Ниже будет представлен распознанный текст целиком и список строк относящихся к странице.\
![image](https://github.com/hentaibaka/handwriting-recognition-service/assets/61946499/ff5df774-4e0f-416b-abfe-772b85ef3257)
Текст на изображении можно распознать автоматически, нажав на кнопку "Автоматически распознать строки", тогда, удаляться старые строки и распознаются новые.\
Также, текст можно распознать и в ручную, для этого необходимо самому создать запись в таблице со строками и ввести данные о строке. Сделать это можно на странице редактирования страницы или перейти в таблицу со строками.\
Таблица Строки.\
Запись в таблице со строками имеет сслыку на страницу, к которой относится строка, номер строки на странице, x1, y1, x2, y2 - координаты строки на изображении страницы в пикселях, текст содержащийся в строке и флаг, указывающий, была ли данная строка распознана вручную.\
![image](https://github.com/hentaibaka/handwriting-recognition-service/assets/61946499/4f38907f-ee44-454b-9577-d5914b359358)\
На странице изменения записи строки можно увидеть фрагмент изображения страницы.\
![image](https://github.com/hentaibaka/handwriting-recognition-service/assets/61946499/7ea94a0e-2406-4408-9861-fb9eb930d5c2)\
Чтобы автоматически распознать текст на строке, нужно нажать на кнопку "Автоматически распознать текст", старое содержимое поля "Текст" заменится на новое.
2. Пользователи:\
В таблице пользователь библиотекарь увидит только свой аккаунт.
3. Распознавание рукописного текста:\
Таблица Метрика:\
В данной таблице перечислены различные метрики, которые будут отображаться на главной странице сайта. Библиотекарь может лишь просмотреть записи.\
![image](https://github.com/hentaibaka/handwriting-recognition-service/assets/61946499/a9fcaab4-fe2b-4690-ac8a-cd6044b5a76e)\
Таблица тренировочный набор:\
Здесь библиотекарь может просмотреть список уже созданных тренировочных наборов или создать новый. тренировочный набор состоит из строк, которые были помечены как распознанные вручную.\
![image](https://github.com/hentaibaka/handwriting-recognition-service/assets/61946499/fb719a61-dc19-4c23-8ab2-a5b9a6cb3b59)\
Таблица Обучения:
Здесь библиотекарь может просмотреть список обучений или создать новое. После создания записи обучения, обучение ещё необходимо запустить. Для запуска обучения необходимо обладать правами модератора или администратора.\
![image](https://github.com/hentaibaka/handwriting-recognition-service/assets/61946499/13518029-d186-41e1-a158-7f8f892abdcc)\
Обучение состоит из полей: датасет, модель которая будет обучаться, обученная модель (заполниться после окончания обучения автоматически), кол-ва итераций обучения, интервала валидации.
![image](https://github.com/hentaibaka/handwriting-recognition-service/assets/61946499/e91adad3-08c2-4af6-a388-8240c6b8432e)\
После окончания обучения появятся записи в полях Dataset log, Opt, Train log - там будут представлены итоги обучения.
***
На этом инструкция по работе с админ-панелью для библиотекаря завершена.\
Далее рекомендуется изучить инструкции для пользователей с конкретной группой прав:
1. Базовая инструкция находится [тут](/docs/base.md)
2. Действия, которые может выполнять обычный пользователь описаны [тут](/docs/user.md)
3. Действия, которые может выполнять модератор описаны [тут](/docs/moderator.md)
4. Действия, которые может выполнять администратор описаны [тут](/docs/admin.md)
